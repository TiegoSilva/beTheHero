{"ast":null,"code":"var _jsxFileName = \"C:\\\\Dev\\\\bethehero\\\\frontend\\\\src\\\\pages\\\\Profile\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\nimport Logo from \"./../../assets/logo.svg\";\nimport api from './../../services/api';\nexport default function Profile() {\n  const [incidents, setIncidents] = useState([]);\n  const ong_name = localStorage.getItem('ong_name');\n  const ong_id = localStorage.getItem('ong_id');\n  useEffect(async () => {\n    const data = {\n      headers: {\n        Authorization: ong_id\n      }\n    };\n    const response = await api.get('list_incidents', data).then(response => {\n      setIncidents(response.data);\n    });\n  }, []);\n\n  async function handleTrash(id) {\n    try {\n      const URLb = 'delete_incident/' + id;\n      const response = await api.delete(URLb);\n      alert(\"Item deletado\");\n    } catch (err) {\n      alert(\"we got a error\" + err);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"Logo Be The Hero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"Bem-vinda \", ong_name), /*#__PURE__*/React.createElement(Link, {\n    class: \"buttonLogIn\",\n    to: \"/incidents/new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \" Cadastrar novo caso \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiPower, {\n    size: 18,\n    color: \"#E02041\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Casos Cadastrados\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, incidents.map(incident => /*#__PURE__*/React.createElement(\"li\", {\n    key: incident.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"caso: \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, incident.title), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"descri\\xE7\\xE3o: \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, incident.description), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"valor: \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: \"BRL\"\n  }).format(incident.value)), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleTrash(incident.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FiTrash2, {\n    size: 20,\n    color: \"#dcdce6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }))))));\n}","map":{"version":3,"sources":["C:/Dev/bethehero/frontend/src/pages/Profile/index.js"],"names":["React","useState","useEffect","Link","FiPower","FiTrash2","api","Profile","incidents","setIncidents","ong_name","localStorage","getItem","ong_id","data","headers","Authorization","response","get","then","handleTrash","id","URLb","delete","alert","err","Logo","map","incident","title","description","Intl","NumberFormat","style","currency","format","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nimport \"./styles.css\";\r\nimport { FiPower, FiTrash2 } from 'react-icons/fi'\r\n\r\nimport Logo from \"./../../assets/logo.svg\"\r\n\r\nimport api from './../../services/api'\r\n  \r\nexport default function Profile() {\r\n    const [incidents, setIncidents] = useState([])\r\n    const ong_name = localStorage.getItem('ong_name')\r\n    const ong_id = localStorage.getItem('ong_id')\r\n\r\n    useEffect(async() => {\r\n        const data = { \r\n                headers: { \r\n                    Authorization: ong_id\r\n                } \r\n            }\r\n        const response = await api.get('list_incidents', data).then(response => {\r\n                setIncidents(response.data)\r\n            })\r\n    }, [])\r\n\r\n\r\n    async function handleTrash (id){ \r\n        try{\r\n            const URLb = 'delete_incident/' + id; \r\n            const response = await api.delete(URLb);\r\n            \r\n            alert(\"Item deletado\")\r\n        }catch(err){    \r\n            alert(\"we got a error\" + err)\r\n        }\r\n    }\r\n\r\n    return (\r\n      <div className=\"profile-container\">\r\n          <header>\r\n              <img src={Logo} alt=\"Logo Be The Hero\"/>\r\n                <span>Bem-vinda {ong_name}</span>\r\n                <Link class=\"buttonLogIn\" to=\"/incidents/new\"> Cadastrar novo caso </Link>\r\n                <button type=\"button\">\r\n                    <FiPower size={18} color=\"#E02041\" /> \r\n                </button>\r\n          </header>\r\n\r\n          <h1>Casos Cadastrados</h1>\r\n          <ul>\r\n              {\r\n                  incidents.map(incident => (\r\n                    <li key={incident.id}>\r\n                        <strong>caso: </strong>\r\n                        <p>{incident.title}</p>\r\n\r\n                        <strong>descrição: </strong>\r\n                        <p>{incident.description}</p>\r\n\r\n                        <strong>valor: </strong>\r\n                        <p>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: \"BRL\"}).format(incident.value)}</p>\r\n\r\n                            <button type=\"button\" onClick={handleTrash(incident.id)}>\r\n                                <FiTrash2 size={20} color=\"#dcdce6\" />\r\n                            </button>\r\n                    </li>\r\n                  ))\r\n              }\r\n              \r\n          </ul>\r\n      </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}